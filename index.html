<!DOCTYPE html>
<html>
  <head>
      Access-Control-Allow-Origin: *
      <meta charset='utf-8'>
      <meta http-equiv='X-UA-Compatible' content='IE=edge'>
      <title>Orca AR</title>
<!-- Import the component -->
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  </head>

  <body>
    <style>
  model-viewer#reveal {
    --poster-color: transparent;
  }
</style>

    <div style="height: 500px;" style="width: 500px;">
<model-viewer scale="1 1 1" id="transform" bounds="tight" shadow-intensity="1" loading="eager" camera-controls ar ar-modes="webxr scene-viewer quick-look" auto-rotate src="OrcaMan.gltf" alt="A 3D model of orca logo">
  </div>
  <div class="controls">
    <div>Roll: <input id="roll" value="20" size="3" class="number"> degrees</div>
    <div>Pitch: <input id="pitch" value="0" size="3" class="number"> degrees</div>
    <div>Yaw: <input id="yaw" value="0" size="3" class="number"> degrees</div>
    <div>
      Scale: X: <input id="x" value="1" size="3" class="number">, 
      Y: <input id="y" value="1" size="3" class="number">, 
      Z: <input id="z" value="1" size="3" class="number">
    </div>
    <button id="frame">Update Framing</button>
  </div>
</model-viewer>
<script>
const modelViewerTransform = document.querySelector("model-viewer#transform");
const roll = document.querySelector('#roll');
const pitch = document.querySelector('#pitch');
const yaw = document.querySelector('#yaw');
const x = document.querySelector('#x');
const y = document.querySelector('#y');
const z = document.querySelector('#z');
const frame = document.querySelector('#frame');

frame.addEventListener('click', () => {
  modelViewerTransform.updateFraming();
});

const updateOrientation = () => {
  modelViewerTransform.orientation = `${roll.value}deg ${pitch.value}deg ${yaw.value}deg`;
};

const updateScale = () => {
  modelViewerTransform.scale = `${x.value} ${y.value} ${z.value}`;
};

roll.addEventListener('input', () => {
  updateOrientation();
});
pitch.addEventListener('input', () => {
  updateOrientation();
});
yaw.addEventListener('input', () => {
  updateOrientation();
});
x.addEventListener('input', () => {
  updateScale();
});
y.addEventListener('input', () => {
  updateScale();
});
z.addEventListener('input', () => {
  updateScale();
});
</script>
  </body>
</html>
